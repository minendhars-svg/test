<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GPA Calculator</title>
<link rel="stylesheet" href="GPA.css">
</head>

<body>
  <div id="m_body">
    <header>
      <img src="../images/logo.png" alt="Logo">

      <div class="header-content">
        <h1>Computer Science Department</h1>

        <nav>
          <a href="home.html">Home</a>
          <a href="description.html">Program Description</a>
          <a href="TA.html">TA Application</a>
          <a href="GPA.html" class="active">GPA Calculator</a>
        </nav>
      </div>
    </header>

    <main id="gpa-section"></main>

    <footer>
      <div class="footer-left">
        7400 East Drive<br>
        Montgomery, AL 36117<br>
        Local: 334-244-3000<br>
        Toll-Free: 800-227-2649
      </div>

      <div class="footer-center">
        Â© 2025 Minendhar Sara
      </div>

      <div class="footer-right">
        <img src="../images/twt.jpeg" alt="Twitter">
        <img src="../images/pinterest-logo.png" alt="Pinterest">
        <img src="../images/facebook-social-network-logo.png" alt="Facebook">
      </div>
    </footer>
  </div>

  <script>
    const main = document.getElementById("gpa-section");

    const box = document.createElement("div");
    box.id = "gpaBox";
    main.appendChild(box);

    const title = document.createElement("h2");
    title.textContent = "Find your GPA!";
    box.appendChild(title);

    const inst = document.createElement("p");
    inst.textContent =
      "Enter the number of credit hours for each course, and the letter grade for each of them. At least 2 courses should be entered.";
    box.appendChild(inst);

    const table = document.createElement("table");
    box.appendChild(table);

    const headerRow = document.createElement("tr");
    headerRow.innerHTML = `
      <th></th>
      <th>Credit Hours</th>
      <th>Grade</th>
    `;
    table.appendChild(headerRow);

    for (let i = 1; i <= 5; i++) {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>Course ${i}:</td>
        <td><input type="text"></td>
        <td><input type="text"></td>
      `;
      table.appendChild(row);
    }

    const avgRow = document.createElement("tr");
    avgRow.innerHTML = `
      <td>Avg GPA:</td>
      <td><input id="avgGpa" type="text" disabled></td>
      <td></td>
    `;
    table.appendChild(avgRow);

    const btnRow = document.createElement("div");
    btnRow.id = "btnRow";
    box.appendChild(btnRow);

    const submitBtn = document.createElement("button");
    submitBtn.textContent = "submit";
    btnRow.appendChild(submitBtn);

    const resetBtn = document.createElement("button");
    resetBtn.textContent = "Reset";
    btnRow.appendChild(resetBtn);

    function letterToGPA(letter) {
      const scale = { A: 4, B: 3, C: 2, D: 1, F: 0 };
      return scale[letter.toUpperCase()] ?? null;
    }

    submitBtn.onclick = () => {
      let inputs = table.querySelectorAll("tr");
      let totalQuality = 0;
      let totalHours = 0;

      for (let i = 1; i <= 5; i++) {
        let hrs = inputs[i].children[1].querySelector("input").value.trim();
        let grade = inputs[i].children[2].querySelector("input").value.trim();

        if (hrs && grade) {
          let h = parseFloat(hrs);
          let g = letterToGPA(grade);

          if (!isNaN(h) && g !== null) {
            totalHours += h;
            totalQuality += h * g;
          }
        }
      }

      if (totalHours >= 2) {
        document.getElementById("avgGpa").value = (totalQuality / totalHours).toFixed(2);
      } else {
        alert("Please enter at least 2 valid courses.");
      }
    };

    resetBtn.onclick = () => {
      document.querySelectorAll("#gpaBox input").forEach(inp => {
        if (inp.id !== "avgGpa") inp.value = "";
      });
      document.getElementById("avgGpa").value = "";
    };
  </script>

</body>
</html>
